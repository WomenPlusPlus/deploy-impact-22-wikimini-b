$wgGroupPermissions['*']['edit'] = false;
# Disable for users, too: by default 'user' is allowed to edit, even if '*' is not.
$wgGroupPermissions['user']['edit'] = false;
# Make it so users with confirmed email addresses are in the group.
$wgAutopromote['emailconfirmed'] = APCOND_EMAILCONFIRMED;
# Hide group from user list.
$wgImplicitGroups[] = 'emailconfirmed';
# Finally, set it to true for the desired group.
$wgGroupPermissions['emailconfirmed']['edit'] = true;

# student and teacher rights

# allow students and teachers to edit the wiki
$wgGroupPermissions['student']['edit'] = true;
$wgGroupPermissions['teacher']['edit'] = true;
$wgGroupPermissions['teacher']['upload'] = true;
$wgGroupPermissions['student']['upload'] = true;

# allow everyone to create an account
$wgGroupPermissions['*']['createaccount'] = true;

# hides the option to set an email for students
$wgHiddenPrefs['student'] = 'email';

# hides the possibility to change the skin
# $wgHiddenPrefs[*] = 'skin';
